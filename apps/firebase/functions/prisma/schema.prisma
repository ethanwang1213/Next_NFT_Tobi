generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model tobiratory_accounts {
  id                Int      @id @default(autoincrement())
  uuid              String   @db.VarChar(100) @unique
  email             String   @db.VarChar(255)
  username          String   @db.VarChar(255)
  sns               String   @db.VarChar(255)
  icon_url          String   @db.VarChar(255)
  about_me          String   @db.VarChar(255) @default("")
  social_link       String[] @db.VarChar(255) @default([])
  gender            String   @db.VarChar(255) @default("")
  birth             String   @db.VarChar(255) @default("")
  gift_permission   Boolean  @default(false)
  updated_date_time DateTime @default(now()) @db.Timestamp(6)
  created_date_time DateTime @default(now()) @db.Timestamp(6)
}

model tobiratory_flow_accounts {
  uuid              String    @id @db.VarChar(100)
  flow_address      String    @db.VarChar(255) @default("")
  public_key        String    @db.VarChar(255) @default("")
  tx_id             String    @db.VarChar(255) @default("")
  flow_job_id       String    @db.VarChar(255)
  updated_date_time DateTime @default(now()) @db.Timestamp(6)
  created_date_time DateTime @default(now()) @db.Timestamp(6)
}

model tobiratory_saidans {
  id                Int     @id @default(autoincrement())
  title             String  @db.VarChar(255)
  description       String  @db.VarChar(255)
  template_id       String  @db.VarChar(255)
  is_public         Boolean @default(true)
  showcase          Boolean @default(true)
  max_item_count    Int
  owner_id          String  @db.VarChar(255)
  updated_date_time DateTime @default(now()) @db.Timestamp(6)
  created_date_time DateTime @default(now()) @db.Timestamp(6)
}

model tobiratory_contents {
  id                Int     @id @default(autoincrement())
  title             String  @db.VarChar(255)
  image             String  @db.VarChar(255)
  creator_user_id   String  @db.VarChar(255)
  creator_username  String  @db.VarChar(255)
  creator_icon      String  @db.VarChar(255)
  creator_sns       String  @db.VarChar(255)
  updated_date_time DateTime @default(now()) @db.Timestamp(6)
  created_date_time DateTime @default(now()) @db.Timestamp(6)
}

model tobiratory_digital_items {
  id                Int       @id @default(autoincrement())
  creator_uuid      String    @db.VarChar(100)
  name              String?   @db.VarChar(255)
  image             String    @db.VarChar(255)
  type              String    @db.VarChar(255)
  item_id           Int
  tx_id             String?   @db.VarChar(255)
  content_id        Int?
  description       String?   @db.VarChar(255) @default("")
  thumbnail_url     String    @db.VarChar(255)
  model_url         String?   @db.VarChar(255)
  limit             Int?
  license           String?   @db.VarChar(255) @default("")
  copyright_holders String[]  @db.VarChar(255) @default([])
  updated_date_time DateTime  @default(now()) @db.Timestamp(6)
  created_date_time DateTime  @default(now()) @db.Timestamp(6)
}

model tobiratory_digital_items_saidans_relationship {
  id                Int     @id @default(autoincrement())
  nft_id            Int     @unique
  saidan_id         Int     @unique
  updated_date_time DateTime @default(now()) @db.Timestamp(6)
  created_date_time DateTime @default(now()) @db.Timestamp(6)
}

model tobiratory_sample_items {
  id                Int     @id @default(autoincrement())
  digital_item_id   Int
  updated_date_time DateTime @default(now()) @db.Timestamp(6)
  created_date_time DateTime @default(now()) @db.Timestamp(6)
}

model tobiratory_digital_item_nfts {
  id                Int       @id @default(autoincrement())
  serial_no         String?   @unique
  digital_item_id   Int
  owner_uuid        String    @db.VarChar(100)
  box_id            Int?
  mint_status       String    @default("minting") // "minted", "opened"
  tx_id             String?   @db.VarChar(255)
  updated_date_time DateTime  @default(now()) @db.Timestamp(6)
  created_date_time DateTime  @default(now()) @db.Timestamp(6)
}

model tobiratory_boxes {
  id                Int     @id @default(autoincrement())
  creator_uuid       String  @db.VarChar(100)
  name              String  @db.VarChar(255)
  gift_permission   Boolean @default(false)
  updated_date_time DateTime @default(now()) @db.Timestamp(6)
  created_date_time DateTime @default(now()) @db.Timestamp(6)
}

model tobiratory_businesses {
  id                Int     @id @default(autoincrement())
  uuid              String  @db.VarChar(255)
  name              String  @db.VarChar(255)
  name_furi         String  @db.VarChar(255)
  birth             DateTime @db.Timestamp(6)
  email             String  @db.VarChar(255)
  address           String  @db.VarChar(255)
  phone             String  @db.VarChar(255)
  content_name      String  @db.VarChar(255)
  content_name_furi String  @db.VarChar(255)
  genre             String  @db.VarChar(255)
  content_desc      String  @db.VarChar(255)
  homepage_url      String  @db.VarChar(255)
  kyc               String  @db.VarChar(255)
  bank_account      String  @db.VarChar(255)
  balance           String  @db.VarChar(255)
  submission        Boolean @default(false)
  updated_date_time DateTime @default(now()) @db.Timestamp(6)
  created_date_time DateTime @default(now()) @db.Timestamp(6)
}

model tobiratory_sales {
  id                Int     @id @default(autoincrement())
  item_id           Int
  amount            Int
  span              String  @db.VarChar(255)
  price             String  @db.VarChar(255)
  image             String  @db.VarChar(255)
  name              String  @db.VarChar(255)
  license           String  @db.VarChar(255)
  updated_date_time DateTime @default(now()) @db.Timestamp(6)
  created_date_time DateTime @default(now()) @db.Timestamp(6)
}

model tobiratory_material_images {
  id                Int     @id @default(autoincrement())
  owner             String  @db.VarChar(255)
  image             String  @db.VarChar(255)
  updated_date_time DateTime @default(now()) @db.Timestamp(6)
  created_date_time DateTime @default(now()) @db.Timestamp(6)
}
model tobiratory_samples {
  id                Int     @id @default(autoincrement())
  creator_uuid       String  @db.VarChar(100)
  thumb_url         String  @db.VarChar(255)
  model_url         String  @db.VarChar(255)
  material_id       Int
  type              String  @db.VarChar(255)
  updated_date_time DateTime @default(now()) @db.Timestamp(6)
  created_date_time DateTime @default(now()) @db.Timestamp(6)
}